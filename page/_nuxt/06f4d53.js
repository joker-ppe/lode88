(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1158:function(t,e){},1159:function(t,e){},1160:function(t,e){},1161:function(t,e){},1162:function(t,e){},1165:function(t,e){},1166:function(t,e){},1167:function(t,e){},1456:function(t,e,i){},1645:function(t,e,i){"use strict";i.r(e);i(46),i(39);var s=i(10),a=i(14),r=(i(43),i(96),i(107),i(41),i(36),i(37),i(322),i(888),i(116),i(121),i(75),i(97),i(52),i(53),i(26),i(42),i(69),i(265),i(63),i(924),i(173),i(35),i(67),i(74),i(892)),n=i(32),o=i.n(n),c=(i(1455),i(897)),l=i(1015),u=i.n(l);function h(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==i.return||i.return()}finally{if(o)throw r}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={props:{region:{type:String,default:"nam"}},components:{DDatePicker:r.default},data:function(){return{days:this.getLast7Days(),activeDay:new Date,citiesActive:null,rowsFilter:[],searchDate:o()(new Date).format("YYYY-MM-DD"),numberSearch:null,format:this.outputFormat?this.outputFormat:"MM-DD-YYYY",date:"",language:c.vi,disabledDates:{},isActType:0,listTypeNumberMB:[{id:0,title:"Dò bình thường"},{id:2,title:"2 số"},{id:3,title:"3 số"}],listTypeNumber:[{id:0,title:"Dò bình thường"},{id:2,title:"Dò 2 số"},{id:3,title:"Dò 3 số"}],result_rows:{prize8:{name:"Giải tám",show:!0,class:""},prize7:{name:"Giải bảy",show:!0,class:""},prize6:{name:"Giải sáu",show:!0,value:"",class:""},prize5:{name:"Giải năm",show:!0,class:""},prize4:{name:"Giải tư",show:!0,class:""},prize3:{name:"Giải ba",show:!0,class:""},prize2:{name:"Giải nhì",show:!0,class:""},prize1:{name:"Giải nhất",show:!0,class:""},special:{name:"Giải đặc biệt",show:!0,class:"kqsx-special"}},date_show:!1,city:1,city_name:"",number:null,prevIndex:0,isDown:!1,startX:0,scrollLeft:0,isSelectedAll:!0,isLoading:!1,resultList:[],digits:0,filterData:[]}},computed:{disabledMinDates:function(){var t=o()(),e=new Date(t.format("YYYY-MM-DD"));return e.setHours(23,59,59,0),e},disabledMaxDates:function(){var t=o()(),e=new Date(t.subtract(6,"day").format("YYYY-MM-DD"));return e.setHours(0,0,0,0),e},tpToken:function(){return this.$store.state.user&&this.$store.state.user.tp_token},cities:function(){return this.$store.getters.getCities},results:function(){return this.$store.getters.getResults},cityName:function(){return this.$store.getters.getCityName},tokenChat:function(){if(this.$store.state.user){var t={user_id:this.$store.state.user.id,full_name:this.$store.state.user.fullname,email:this.$store.state.user.email};return u.a.encode(t,"seenilvionnpnotjghgk")}return""},resultListReduce:function(){var t=this;return JSON.parse(JSON.stringify(this.resultList)).map((function(e){var i,s=(null===(i=t.filterData.find((function(t){return t.id===e.result.city_id})))||void 0===i?void 0:i.digits)||0;return Object.keys(t.result_rows).map((function(i){return e.result[i]=t.extractLastDigits(e.result[i],s)})),e}))}},watch:{region:function(t,e){t!=e&&(this.isSelectedAll=!0,this.isActType=0,this.filterData=this.filterData.map((function(t){return m(m({},t),{},{digits:0})})),this.getListCity())},date:function(){var t=this;if(this.activeDay=new Date(this.date),this.days){var e=this.days.reduce((function(t,e){return t.push(String(e).slice(0,15)),t}),[]).findIndex((function(e){return e===String(t.activeDay).slice(0,15)}));this.onGetWidth(e)}this.getListCity()}},methods:{getActiveClass:function(t,e){if(this.filterData.find((function(i){return i.id===t&&i.digits===e})))return"active"},activeFilter:function(t){var e=t.id,i=t.digits;this.filterData=this.filterData.map((function(t){return t.id===e?m(m({},t),{},{digits:i}):t}))},extractLastDigits:function(t,e){try{return t.split(" - ").map((function(t){return t.slice(-e)})).join(" - ")}catch(t){}},getCityName:function(t){return this.cities.find((function(e){return e.id===t})).name||""},onGetWidth:function(t){if(t>0&&this.$refs["item-scroll"]){var e;this.prevIndex=t;var i=(null===(e=this.$refs["item-scroll"])||void 0===e?void 0:e.slice(0,t)).reduce((function(t,e){return t+e.offsetWidth+12}),0);this.activeTabs(i)}else this.prevIndex=t,this.activeTabs(0)},moveDrag:function(){var t,e;(null===(t=this.$refs["block-scroll"])||void 0===t?void 0:t.scrollLeft)<0||(this.prevIndex=(null===(e=this.$refs["block-scroll"])||void 0===e?void 0:e.scrollLeft)>0?1:0)},setStartXAndScrollLeft:function(t){var e=this.$refs["block-scroll"],i=t.pageX-e.offsetLeft;return{slider:e,pageX:i,walk:2*(i-this.startX)}},onMousedown:function(t){var e=this.setStartXAndScrollLeft(t),i=e.slider,s=e.pageX;this.isDown=!0,this.startX=s,this.scrollLeft=i.scrollLeft,this.isClickCategory=!1},onMouseleave:function(){this.isDown=!1},onMousemove:function(t){if(this.isDown){t.preventDefault();var e=this.setStartXAndScrollLeft(t),i=e.slider,s=e.walk;i.scrollLeft=this.scrollLeft-s,this.isClickCategory=!0}},activeTabs:function(t){this.$refs["port-game"]&&this.$refs["block-scroll"]&&this.$refs["block-scroll"].scrollTo({left:t,behavior:"smooth",block:"end",inline:"center"})},getLast7Days:function(){for(var t=[],e=0;e<7;e++){var i=new Date;i.setDate(i.getDate()-e),t.push(i)}return t},selectDay:function(t,e){this.activeDay=new Date(t),this.changeDate(),this.date=o()(this.activeDay).format("YYYY-MM-DD")},handleDateChange:function(t){var e=this;null==t&&(t=new Date),this.days.some((function(i){return e.isSameDay(i,t)}))||(this.days.pop(),this.days.unshift(new Date(t))),this.selectDay(t)},isSameDay:function(t,e){return t.toDateString()===e.toDateString()},isActive:function(t){return this.isSameDay(t,this.activeDay)},formatDay:function(t){var e=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return"".concat(e,"-").concat(i)},getDayOfWeek:function(t){return["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"][new Date(t).getDay()]},disabledDate:function(t){var e=this;return!this.days.some((function(i){return e.isSameDay(i,t)}))},checkCity:function(t){this.citiesActive=t,this.city_name=t.name,this.city=t.id,this.isSelectedAll=!1,this.getResult()},changeNumType:function(t){this.isActType=t,this.getResult(),this.filterData=this.filterData.map((function(e){return m(m({},e),{},{digits:t})}))},formatRow:function(t){if(t){var e=parseInt(t.split("prize")[1]);return"special"==t.split("prize")[0]?t.split("prize")[0]:e%2==0}},setCityName:function(){var t=this;if(!this.cities.length)return setTimeout((function(){return t.setCityName()}),100);0==this.city&&(this.city=1),this.city_name="",this.cities.forEach((function(e){e.id==t.city&&(t.city_name=e.name)})),""==this.city_name&&(this.city=0)},getListCity:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isLoading=!0,setTimeout((function(){return t.$store.dispatch("getCitiesAction",{date:o()(new Date(t.activeDay)).format("YYYY-MM-DD")}).then(Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rowsFilter=[],t.cities.forEach((function(e){e.region==t.region&&t.rowsFilter.push(e)})),t.citiesActive=t.rowsFilter[0],t.city_name=t.rowsFilter[0].name,t.city=t.rowsFilter[0].id,e.next=7,t.getResult();case 7:t.handleInitKeyFilter(),t.isLoading=!1;case 9:case"end":return e.stop()}}),e)}))))}),100);case 2:case"end":return e.stop()}}),e)})))()},changeDate:function(){this.$store.commit("mutate",{property:"showLoading",with:!0}),this.getListCity(),this.isSelectedAll=!0},search:function(){var t=this;null!==this.numberSearch&&this.numberSearch.length>0?Object.keys(this.result_rows).forEach((function(e){for(var i=t.results.result[e].split("-"),s=!1,a=0;a<i.length;a++)if(i[a].trim().endsWith(t.numberSearch)){s=!0;break}t.result_rows[e].show=s})):Object.keys(this.result_rows).forEach((function(e){t.result_rows[e].show=!0}))},getResult:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var i,s,a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSelectedAll||"bac"===t.region){e.next=9;break}i=t.cities.reduce((function(e,i){return t.region===i.region&&e.push(i.id),e}),[]),s=[],a=h(i);try{for(a.s();!(r=a.n()).done;)n=r.value,s.push(t.$store.dispatch("getResultsAction",{city:n,date:o()(new Date(t.activeDay)).format("DD-MM-YYYY"),type:0}))}catch(t){a.e(t)}finally{a.f()}return e.next=7,Promise.all(s);case 7:return t.resultList=e.sent,e.abrupt("return");case 9:return e.next=11,t.$store.dispatch("getResultsAction",{city:t.city,date:o()(new Date(t.activeDay)).format("DD-MM-YYYY"),type:t.isActType});case 11:case"end":return e.stop()}}),e)})))()},changeCity:function(){this.$store.commit("showLoading"),this.$store.commit("mutate",{property:"showLoading",with:!0}),this.setCityName(),this.$store.dispatch("getResultsAction",{city:this.city,date:o()(new Date(this.activeDay)).format("DD-MM-YYYY"),type:this.isActType})},handleInitKeyFilter:function(){var t=this;"bac"!==this.region&&(this.filterData=this.cities.filter((function(e){return e.region===t.region})).reduce((function(t,e){return t.push({id:e.id,digits:0}),t}),[]))}},mounted:function(){this.isSelectedAll=!0,this.isActType=0,this.filterData=this.filterData.map((function(t){return m(m({},t),{},{digits:0})})),this.getListCity()}},v=(i(1734),i(29)),g=Object(v.a)(p,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"section search-results"},[e("div",{ref:"port-game",staticClass:"block-choose-type"},[e("div",{ref:"block-scroll",staticClass:"wrapper-content__categories games",on:{touchmove:t.moveDrag,scroll:t.moveDrag,mousedown:t.onMousedown,mouseleave:t.onMouseleave,mouseup:t.onMouseleave,mousemove:t.onMousemove}},t._l(t.days,(function(i,s){return e("div",{key:s,ref:"item-scroll",refInFor:!0,class:["categories",{active:t.isActive(i)}],on:{click:function(e){return t.selectDay(i,s)}}},[e("p",[t._v(t._s(0===s?"Hôm nay":t.getDayOfWeek(i)))]),t._v(" "),e("p",[t._v(t._s(t.formatDay(i)))])])})),0),t._v(" "),e("div",{staticClass:"btn-all"},[e("button",[e("div",{staticClass:"form-arrow--down"},[t._m(0),t._v(" "),e("div",{staticClass:"right-input"},[e("d-date-picker",{key:t.date,staticClass:"datepicker-custom custom-after",attrs:{disabledDates:{from:t.disabledMinDates},"output-format":"YYYY-MM-DD",isShowDateWeek:!1,isCustomDate:!1},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])])])]),t._v(" "),t.rowsFilter.length>0&&!t.isLoading?e("ul",{staticClass:"list-cities"},["bac"!==t.region?e("li",{class:{active:t.isSelectedAll},on:{click:function(e){t.isSelectedAll=!0}}},[t._v("\n      Tất cả\n    ")]):t._e(),t._v(" "),t._l(t.rowsFilter,(function(i,s){return e("li",{key:s,class:"bac"===t.region?"active":t.citiesActive.id!=i.id||t.isSelectedAll?"":"active",on:{click:function(e){return t.checkCity(i)}}},[t._v("\n      "+t._s(i.name)+"\n    ")])}))],2):t._e(),t._v(" "),t.isLoading?e("div",{staticClass:"icon-loading"},[e("img",{attrs:{src:"".concat(t.$store.state.mapDomain.STATIC_URL,"/assets/img/loading.gif")}})]):t._e(),t._v(" "),t.isLoading||t.isSelectedAll&&"bac"!==t.region?t._e():e("div",{staticClass:"filter-num-type"},[e("p",[t._v(t._s(t.city_name.toUpperCase()))]),t._v(" "),e("div",{staticClass:"fast-check"},t._l(t.listTypeNumberMB,(function(i,s){return e("div",{key:s,staticClass:"item",class:i.id==t.isActType&&Object.keys(t.results.result||{}).length?"active":"",on:{click:function(e){return t.changeNumType(i.id)}}},[e("div",{staticClass:"btn-checkbox"},[t._v("\n            "+t._s(i.title)+"\n          ")])])})),0)]),t._v(" "),!t.isSelectedAll||"bac"===t.region&&!t.isLoading?e("div",{staticClass:"box-ketqua"},[e("div",{staticClass:"bang-ketqua"},[e("table",{staticClass:"table bootstrap-datatable datatable table-custom-results"},[Object.keys(t.results.result||{}).length?e("tbody",t._l(t.result_rows,(function(i,s){return t.results.result[s]?e("tr",{key:s,class:[i.show?"":"d-none","special"==t.formatRow(s)?"alt special":t.formatRow(s)?"alt":""]},[t.results.result[s]?e("td",{staticClass:"td|first",attrs:{height:"40",scope:"row"}},[t._v("\n                "+t._s(i.name)+"\n              ")]):t._e(),t._v(" "),t.results.result[s]?e("td",{attrs:{height:"40"}},[t._v("\n                "+t._s(t.results.result[s])+"\n              ")]):t._e()]):t._e()})),0):e("div",{staticClass:"empty-result"},[e("img",{attrs:{src:"/assets/img/search-empty.png",alt:"search"}}),t._v(" "),e("p",[t._v("Chưa có kết quả")])])])])]):t._e(),t._v(" "),t._l(t.resultListReduce,(function(i,s){return t.isSelectedAll&&!t.isLoading&&"bac"!==t.region?e("div",{key:s,staticClass:"box-ketqua"},[e("div",{staticClass:"filter-num-type p-0"},[t.rowsFilter[s]?e("p",[t._v(t._s(t.rowsFilter[s].name.toUpperCase()))]):t._e(),t._v(" "),e("div",{staticClass:"fast-check"},t._l(t.listTypeNumberMB,(function(s,a){return e("div",{key:a,staticClass:"item",class:t.getActiveClass(i.result.city_id,s.id),on:{click:function(){t.activeFilter({id:i.result.city_id,digits:s.id}),t.isActType=s.id}}},[e("div",{staticClass:"btn-checkbox"},[t._v("\n              "+t._s(s.title)+"\n            ")])])})),0)]),t._v(" "),e("div",{staticClass:"bang-ketqua"},[e("table",{staticClass:"table bootstrap-datatable datatable table-custom-results"},[e("tbody",t._l(t.result_rows,(function(s,a){return e("tr",{key:a,class:[s.show?"":"d-none","special"==t.formatRow(a)?"alt special":t.formatRow(a)?"alt":""]},[t.results.result[a]?e("td",{staticClass:"td|first",attrs:{height:"40",scope:"row"}},[t._v("\n                "+t._s(s.name)+"\n              ")]):t._e(),t._v(" "),t.results.result[a]?e("td",{attrs:{height:"40"}},[t._v("\n                "+t._s(i.result[a])+"\n              ")]):t._e()])})),0),t._v(" "),0===i.result.length?e("div",{staticClass:"empty-result"},[e("img",{attrs:{src:"/assets/img/search-empty.png",alt:"search"}}),t._v(" "),e("p",[t._v("Chưa có kết quả")])]):t._e()])])]):t._e()}))],2)}),[function(){var t=this._self._c;return t("i",{staticClass:"icon-position"},[t("img",{attrs:{src:"/assets/img/icon/icon-time.png",alt:"Calendar",width:"24",height:"24"}})])}],!1,null,"6787a1c5",null);e.default=g.exports},1734:function(t,e,i){"use strict";i(1456)},892:function(t,e,i){"use strict";i.r(e);var s=i(897),a=i(32),r=i.n(a),n={props:["value","outputFormat","isShowDateWeek","isCustomDate"],data:function(){return{format:this.outputFormat?this.outputFormat:"MM-DD-YYYY",date:"",initialValue:"",language:s.vi,disabledDates:{},dayjs:r.a}},created:function(){this.initialValue=this.value?r()(this.value,this.format).toDate():r()().toDate(),isNaN(this.initialValue.getTime())?this.date=r()().toDate():this.date=this.initialValue},watch:{date:function(t){this.$emit("input",r()(t).format(this.format)),this.$emit("day-of-week-changed",this.getDayOfWeek(this.date))}},methods:{disabledDate:function(t,e){this.disabledDates={},this.disabledDates[e]=new Date(r()(t).format("YYYY, MM, DD"))},getDayOfWeek:function(t){return["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"][new Date(t).getDay()]}},mounted:function(){}},o=i(29),c=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",[t.isShowDateWeek?e("span",{staticClass:"date-picker__label"},[t._v(t._s(t.getDayOfWeek(t.date))+" "),e("b",[t._v(t._s(t.isCustomDate?t.dayjs(t.date).format("DD - MM - YYYY"):""))])]):t._e(),t._v(" "),e("date-picker",t._b({attrs:{"input-class":"form-control text-extra-normal",format:"dd/MM/yyyy",language:t.language},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"date-picker",t.$attrs,!1))],1)])}),[],!1,null,null,null);e.default=c.exports}}]);